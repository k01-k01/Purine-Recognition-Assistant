# 拍照识别功能使用指南

## 功能概述

您的嘌呤识别助手现在已经集成了拍照识别功能，可以通过以下两种方式进行食物识别：

1. **拍照识别** - 使用设备相机实时拍照
2. **图片上传** - 从相册选择已有图片

## 详细使用步骤

### 拍照识别

1. **启动应用**
   - 打开浏览器访问 `http://localhost:3000`
   - 确保在"识别"标签页

2. **开始拍照**
   - 点击"拍照识别"按钮
   - 浏览器会请求相机权限，请点击"允许"
   - 如果权限被拒绝，请刷新页面重试

3. **拍照操作**
   - 将食物放在屏幕中央的取景框内
   - 点击底部的圆形拍照按钮
   - 预览拍摄的照片

4. **确认或重拍**
   - 如果照片满意，点击"确认"按钮
   - 如果不满意，点击"重拍"按钮重新拍摄
   - 可以点击右上角的旋转按钮切换前后摄像头

5. **开始识别**
   - 确认照片后，点击"开始识别"按钮
   - 等待AI分析完成（约2-3秒）
   - 查看识别结果和嘌呤含量信息

### 图片上传

1. **选择图片**
   - 点击"从相册选择"按钮
   - 选择要识别的食物图片
   - 支持JPG、PNG、WEBP格式，大小不超过8MB

2. **开始识别**
   - 点击"开始识别"按钮
   - 等待AI分析完成
   - 查看识别结果

## 识别结果说明

识别完成后，您将看到以下信息：

- **食物名称** - AI识别的食物种类
- **识别置信度** - AI识别的准确度百分比
- **嘌呤含量** - 食物的嘌呤含量等级（高/中/低）
- **具体数值** - 每100g食物中的嘌呤含量
- **饮食建议** - 针对痛风患者的饮食建议

## 嘌呤等级说明

- **高嘌呤** (红色) - 150-1000mg/100g，痛风患者应避免
- **中嘌呤** (橙色) - 50-150mg/100g，适量食用
- **低嘌呤** (绿色) - 10-50mg/100g，可以放心食用

## 故障排除

### 相机无法使用
- 确保设备有摄像头
- 检查浏览器是否允许相机权限
- 尝试刷新页面重新授权
- 确保使用HTTPS环境（生产环境）

### 识别失败
- 检查网络连接
- 确保图片清晰，食物在画面中央
- 尝试重新拍照或选择其他图片
- 如果API密钥未配置，会使用模拟数据

### 图片上传失败
- 检查图片格式是否为JPG、PNG或WEBP
- 确保图片大小不超过8MB
- 尝试压缩图片后重新上传

## 测试功能

如果您想单独测试相机功能，可以访问：
`http://localhost:3000/test-camera`

这个页面专门用于测试相机拍照功能，不会进行食物识别。

## 技术说明

- 相机功能基于 `react-webcam` 库
- AI识别使用通义千问VL API
- 支持前后摄像头切换
- 自动处理相机权限和错误情况
- 响应式设计，适配各种屏幕尺寸

## 注意事项

1. **隐私保护** - 拍摄的照片仅在本地处理，不会上传到服务器
2. **网络要求** - AI识别需要网络连接
3. **浏览器兼容** - 建议使用Chrome、Firefox、Safari等现代浏览器
4. **移动设备** - 在手机上使用时体验更佳 